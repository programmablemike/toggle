syntax = "proto3";

package toggle.v1;

option go_package = "github.com/programmablemike/toggle/gen/go/toggle/v1;togglev1";

service ToggleService {
    rpc CreateScope(CreateScopeRequest) returns (CreateScopeResponse) {}
}

// General use types
enum ToggleValue {
    TOGGLE_OFF = 0;
    TOGGLE_ON = 1;
}

message ScopeSet {
    string id = 1;
    string toggle_set_id = 2; // Foreign key ID for Toggle Set
    repeated Scope scopes = 3;
}

message Scope {
    string id = 1;
    string name = 2;
    optional string description = 3;
    bool required = 4;
    repeated string acceptable_values = 5;
}

message ToggleSet {
    string id = 1;
    string scope_set_id = 2; // Foreign key ID for Scope Set
    repeated Toggle toggles = 3;
}

message Toggle {
    string id = 1;
    string name = 2;
    optional string description = 3;
    ToggleValue value = 4;
    ToggleValue default_value = 5;
}

// CreateScope
message CreateScopeRequest {}
message CreateScopeResponse {}